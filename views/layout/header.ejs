<%
var reqUser = ( typeof req.user != "undefined") ? JSON.stringify(req.user) : "''";
%>

<script>
    
    var navItems = [];

     var session     =    <%- JSON.stringify(req.session) %> ;
     console.log("andrew");
     var currentUser =    <%- reqUser %> ;
  
    if (!isEmpty(session.passport)) {
      navItems.push({url: '/item/mylist', cssClass: 'fa fa-comments', title: 'My Items'}),
      navItems.push({url: '/item/create', cssClass: 'fa fa-comments', title: 'Create Item'}),
      navItems.push({url: '/logout', cssClass: 'fa fa-comments', title: 'Logout'});
    }
    else {
      navItems.push({url: '/register', cssClass: 'fa fa-briefcase', title: 'Register'});
      navItems.push({url: '/login', cssClass: 'fa fa-comments', title: 'Login'});
    }

    navItems.push({url: '/about', cssClass: 'fa fa-comments', title: 'About'});

    function isEmpty(obj) {
        for(var prop in obj) {
            if(obj.hasOwnProperty(prop))
                return false;
        }

        return true;
    }
   
</script>
